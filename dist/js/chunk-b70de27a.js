(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b70de27a"],{"162b":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[e("div",[e("b-progress",{attrs:{height:"1.5rem",value:"All"==t.type?t.consumed:t.AllowedStorage,max:"All"==t.type?t.total:t.allocated}})],1),e("div",{staticClass:"level_info my-2 d-block float-left w-100",staticStyle:{height:"auto"}},[e("div",{staticClass:"d-flex bd-highlight"},["Doc"==t.type?e("div",{staticClass:"p-2 bd-highlight font-12"},[e("b",{attrs:{id:"divClientStorage pr-1"}},[e("span"),t._v(" "),e("span",{staticClass:"clr-1"},[t._v(" "+t._s(t.AllowedClientStoragePercentage)+"% ("+t._s(t.formatBytes(t.AllowedClientStorage))+")")])]),t._v(" "),e("span",[t._v("Allocated to Client")])]):t._e(),"Doc"==t.type?e("div",{staticClass:"p-2 bd-highlight font-12"},[e("b",{attrs:{id:"divConsumendStorage pr-1"}},[e("span"),t._v(" "),e("span",{staticClass:"clr-2"},[t._v(" "+t._s(t.AllowedUserStoragePercentage)+"% ("+t._s(t.formatBytes(t.AllowedUserStorage))+")")])]),t._v(" "),e("span",[t._v("Allocated to User")])]):t._e(),"All"==t.type?e("div",{staticClass:"p-2 bd-highlight font-12"},[t._m(0),e("span",{staticClass:"clr-1 pr-1"},[t._v(t._s(t.ConsumedPercentage)+"% ("+t._s(t.formatBytes(t.consumed))+") ")]),e("span",[t._v("Storage Consumed")])]):t._e(),e("div",{staticClass:"p-2 bd-highlight font-12"},[t._m(1),e("span",{staticClass:"clr-3 pr-1"},[t._v(t._s(t.AvailablePercentage)+"% ("+t._s(t.formatBytes(t.AvailableSpace))+") ")]),e("span",[t._v("Available Storage")])]),e("div",{staticClass:"ml-auto p-2 bd-highlight font-12"},[t._m(2),e("span",{staticClass:"font-weight-bold pr-1"},[t._v(t._s(t.formatBytes("All"==t.type?t.total:t.allocated))+" ")]),t._v(" "),e("span",[t._v("Total Storage")])])])])])},r=[function(){var t=this,e=t._self._c;return e("b",{attrs:{id:"divFreeStorage"}},[e("span")])},function(){var t=this,e=t._self._c;return e("b",{attrs:{id:"divFreeStorage"}},[e("span")])},function(){var t=this,e=t._self._c;return e("b",{attrs:{id:"divFreeStorage"}},[e("span")])}],i=a("9769"),l={props:{type:{type:String,required:!0}},data(){return{total:null,consumed:null,allocated:null,AllowedClientStorage:null,AllowedUserStorage:null}},created:function(){var t=this;t.GetStoragedata()},computed:{ConsumedPercentage:{get:function(){return parseFloat(100*this.consumed/this.total).toFixed(0)},set:function(t){}},AllocatedPercentage(){return parseFloat(100*this.allocated/this.total).toFixed(0)},AvailableSpace(){return"All"==this.type?this.total>=this.consumed?this.total-this.consumed:0:this.AllowedClientStorage+this.AllowedUserStorage<this.allocated?this.allocated-this.AllowedClientStorage-this.AllowedUserStorage:0},AvailablePercentage(){if("All"==this.type){var t=this.total>=this.consumed?this.total-this.consumed:0;return parseFloat(100*t/this.total).toFixed(0)}t=this.AllowedClientStorage+this.AllowedUserStorage<this.allocated?this.allocated-this.AllowedClientStorage-this.AllowedUserStorage:0;return parseFloat(100*t/this.allocated).toFixed(0)},AllowedStorage(){var t=this.AllowedClientStorage+this.AllowedUserStorage;return t},AllowedStoragePercentage(){var t=parseFloat(100*(this.AllowedClientStorage+this.AllowedUserStorage)/this.allocated).toFixed(0);return t},AllowedClientStoragePercentage(){var t=parseFloat(100*this.AllowedClientStorage/this.allocated).toFixed(0);return t},AllowedUserStoragePercentage(){var t=parseFloat(100*this.AllowedUserStorage/this.allocated).toFixed(0);return t}},watch:{consumed:function(t){this.ConsumedPercentage=parseFloat(100*this.consumed/this.total).toFixed(0)}},methods:{GetStoragedata:function(){var t=this;if(i["a"].GetStorageReport().then((function(e){t.total=null==e.data[0].CONTAINER_LIMIT||null==e.data[0].CONTAINER_LIMIT?0:e.data[0].CONTAINER_LIMIT,t.consumed=null==e.data[0].CONTAINER_SIZE||void 0==e.data[0].CONTAINER_SIZE?0:e.data[0].CONTAINER_SIZE,t.allocated=null==e.data[0].DOC_STORAGE_MAXLIMIT||void 0==e.data[0].DOC_STORAGE_MAXLIMIT?o:e.data[0].DOC_STORAGE_MAXLIMIT})),"Doc"==t.type){var e="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=4";i["a"].GetUserStorageDetail(e).then((function(e){var a=JSON.parse(e.data).USERSTORAGEDETAILLIST;t.AllowedClientStorage=0,a.forEach(e=>{null==e.ALLOWED_STORAGE||void 0==e.ALLOWED_STORAGE?(e.ALLOWED_STORAGE=0,t.AllowedClientStorage+=e.ALLOWED_STORAGE):t.AllowedClientStorage+=e.ALLOWED_STORAGE})}));var a="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=1,2,3";i["a"].GetUserStorageDetail(a).then((function(e){var a=JSON.parse(e.data).USERSTORAGEDETAILLIST;t.AllowedUserStorage=0,a.forEach(e=>{null==e.ALLOWED_STORAGE||void 0==e.ALLOWED_STORAGE?(e.ALLOWED_STORAGE=0,t.AllowedUserStorage+=e.ALLOWED_STORAGE):t.AllowedUserStorage+=e.ALLOWED_STORAGE})}))}t.total=isNaN(t.total)?0:t.total,t.consumed=isNaN(t.consumed)?0:t.consumed,t.allocated=isNaN(t.allocated)?0:t.allocated,t.AllowedClientStorage=isNaN(t.AllowedClientStorage)?0:t.AllowedClientStorage,t.AllowedUserStorage=isNaN(t.AllowedUserStorage)?0:t.AllowedUserStorage},formatBytes:function(t,e=!1,a=2){if(!+t)return"0 Bytes";const s=1024,r=a<0?0:a,i=["MB","GB","TB","PB","EB","ZB","YB"],l=Math.floor(Math.log(t)/Math.log(s));return e?parseFloat((t/Math.pow(s,l)).toFixed(r)):`${parseFloat((t/Math.pow(s,l)).toFixed(r))} ${i[l]}`}}},n=l,c=a("2877"),d=Object(c["a"])(n,s,r,!1,null,null,null);e["a"]=d.exports},"445f":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("StorageBar",{attrs:{type:"Doc"}}),e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[e("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblFileList"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[e("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"},on:{change:function(e){return t.onChange()}}})]),t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6)])]),e("tbody",[t._l(t.UserData,(function(a,s){return e("tr",{key:s},[e("td",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{Id:a.USER_ID,type:"checkbox"},domProps:{value:a.USER_ID},on:{change:function(e){return t.onChange()}}})]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.USER_NAME)+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.DESIGNATION_NAME)+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.DEPARTMENT_NAME)+" ")])]),e("td",["1001"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-success",attrs:{title:"Active"}},[t._v(" Active")]):t._e(),"1084"==a.STATUS_ID?e("span",{staticClass:"sent bg-secondary btn d-inline-block w-80 text-center text-truncate text-white",attrs:{title:"Approved"}},[t._v(" Approved")]):t._e(),"Rejected"==a.STATUS_ID?e("span",{staticClass:"stop btn d-inline-block w-80 text-center text-truncate btn-danger",attrs:{title:"Rejected"}},[t._v(" Rejected")]):t._e(),"1003"==a.STATUS_ID?e("span",{staticClass:"stop px-2 bg-primary btn d-inline-block w-80 text-center text-truncate",attrs:{title:"Deleted"}},[t._v(" Deleted")]):t._e(),"1002"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-danger",attrs:{title:"Inactive"}},[t._v("Inactive")]):t._e(),"1005"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-secondary",attrs:{title:"Pending"}},[t._v(" Pending")]):t._e(),"ActivationAwaited"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-warning",attrs:{title:"ActivationAwaited"}},[t._v(" ActivationAwaited")]):t._e()]),e("td",[e("span",{staticClass:"text-right text-overflow-dynamic-container"},[t._v(" "+t._s(a.CONSUMED_STROAGE)+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.ALLOWED_STORAGE,expression:"item.ALLOWED_STORAGE"}],staticClass:"maxAllowedStorage form-control text-right disabled",attrs:{type:"text","asp-for":"item.MaxStorage",id:"idMaxStorage"+a.USER_ID,step:"0.01",maxlength:"13"},domProps:{value:a.ALLOWED_STORAGE},on:{input:function(e){e.target.composing||t.$set(a,"ALLOWED_STORAGE",e.target.value)}}})])]),e("td",{staticClass:"text-center single-action"},[t.hideEditIcon?e("a",{staticClass:"aEdit",attrs:{title:"Edit",id:"idEdit"+a.USER_ID},on:{click:function(e){return t.editAllowedStorage(a.USER_ID)}}},[e("i",{staticClass:"fa fa-pencil text-success action-icon"})]):t._e(),e("div",{staticStyle:{display:"none"},attrs:{id:"divAction"+a.USER_ID}},[e("a",{staticClass:"aCancel mr-2",attrs:{id:"idCancel_"+a.USER_ID,value:a.USER_ID,title:"Cancel",href:"javascript:;"},on:{click:function(e){return t.CancelAction(a.USER_ID,a.ALLOWED_STORAGE)}}},[e("i",{staticClass:"fa fa-times-circle text-danger action-icon"})]),e("a",{staticClass:"aSave",attrs:{title:"Save",value:a.USER_ID,id:"idSave_"+a.USER_ID,href:"javascript:;"},on:{click:function(e){return t.SaveData(a.USER_ID,a.ALLOWED_STORAGE,a.CONSUMED_STROAGE)}}},[e("i",{staticClass:"fa fa-save text-primary action-icon"})])])])])})),0==t.NoRecordLength?e("tr",[e("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[t._v("No Record Found")])]):t._e(),t.NoRecordLength>0?e("tr",[e("td",{staticClass:"text-right fr font-weight-bold",attrs:{colspan:"2"}},[t._v("Total")]),e("td",{staticClass:"text-right fr font-weight-bold",attrs:{colspan:"4"}},[t._v(t._s(t.totalConsumedStorage)+" MB ")]),e("td",{staticClass:"text-right fr font-weight-bold"},[t._v(t._s(t.totalAllowedStorage)+" MB")])]):t._e()],2)])])]),e("div",{staticClass:"col-lg-12 text-right mt-3 float-right"},[e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[t._v("Previous")]),e("button",{staticClass:"btn btn-success",attrs:{title:"Save"},on:{click:function(e){return t.SaveButton()}}},[e("em",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),t._v(" Save")])])],1)},r=[function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("User Name")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Designamtion")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Department")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Status")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Consumed Stoarage (MB)")])])},function(){var t=this,e=t._self._c;return e("th",[e("span",[t._v("Allocated Storage (MB)")])])},function(){var t=this,e=t._self._c;return e("th",{staticClass:"text-center nonresize",attrs:{"data-width":"5%"}},[e("span",[t._v("Action")])])}],i=(a("14d9"),a("4555")),l=a("9769"),o=a("162b"),n={components:{Pager:i["a"],StorageBar:o["a"]},data(){return{isLoading:!1,UserData:[],DepartmentData:[],designationData:[],userStorageDetailSummary:[],pageNo:1,searchCondition:null,sortExp:null,sortBy:null,pageSize:10,totalRecords:"",dropDivShow:!1,showByNameDiv:!1,showByConsumedDiv:!1,divDesignationShow:!1,hideEditIcon:!0,isAllocatedSpaceOpen:!1,UserStorageValue:null,UserId:null,saveStorage:null,StorageValue:null,jsonobj:[],JSONSearchData:[],departmentList:null,designationList:null,txtSearchUserName:"",txtConsumedStorage:"",userFilterData:[],CheckIfExistDepartment:[],jsonFilteredData:[],label:!1,totalConsumedStorage:0,totalAllowedStorage:0,NoRecordLength:0,isDeptSearchOn:!1,isDesgSearchOn:!1,arrayDepartmentChecks:[],departmentSelectedArray:[],designationSelectedArray:[],arrayDesignationChecks:[],CheckIfExistDesignation:[],CheckIfExist:[],txtDepartmentName:[],tempArray:[],txtSearchDeptValue:"",containerSize:null,docStorageMaxLimit:null,AllowedClientStorage:null,AllowedUserStorage:null,total:null,consumed:null,allocated:null,jsonObjData:[]}},created(){var t=this;t.FetchData(),t.GetDDLDesignationData(),t.GetDDLDepartmentData(),t.GetStoragedata()},computed:{AvailableSpace(){return"All"==this.type?this.total>=this.consumed?this.total-this.consumed:0:this.AllowedClientStorage+this.AllowedUserStorage<this.allocated?this.allocated-this.AllowedClientStorage-this.AllowedUserStorage:0},AllowedStorage(){var t=this.AllowedClientStorage+this.AllowedUserStorage;return t}},methods:{validate:function(){var t=this,e=(t.AllowedClientStorage,t.AllowedUserStorage),a=t.AvailableSpace,s=t.totalAllowedStorage,r=e+a;return!(r<s)||(t.ShowAlert(t.$t("You cannot assign space more than available space"),"failure",!0,t.$t("Alert")),!1)},PreviousButton:function(){var t=this;t.$parent.ShowNextTab(3)},searchDept:function(){var t=this;""!=t.txtSearchDeptValue&&(t.DepartmentData=t.DepartmentData.filter(e=>e.name.toLowerCase().includes(t.txtSearchDeptValue)))},ClearFilter:function(t,e,a){},enableDepartmentSearch:function(){var t=this;$(".DepartmentchkItems:checked").length>0?(t.isDeptSearchOn=!0,t.departmentSelectedArray=[],$(".DepartmentchkItems:checked").each((function(){var e=$(this).val();t.arrayDepartmentChecks=t.DepartmentData.filter(t=>t.value==e),t.departmentSelectedArray=t.departmentSelectedArray.concat(t.arrayDepartmentChecks)}))):t.isDeptSearchOn=!1},enableDesignationSearch:function(){var t=this;$(".DesignationchkItems:checked").length>0?(t.isDesgSearchOn=!0,t.designationSelectedArray=[],$(".DesignationchkItems:checked").each((function(){var e=$(this).val();t.arrayDesignationChecks=t.designationData.filter(t=>t.value==e),t.designationSelectedArray=t.designationSelectedArray.concat(t.arrayDesignationChecks)}))):t.isDesgSearchOn=!1},SkipButton:function(){var t=this;t.$parent.ShowNextTab(5)},SaveButton:function(){var t=this;t.jsonObjData=[];new FormData;if(0!=$("#tblFileList tr").length){var e=`pageNo=${t.pageNo}&pageSize=${t.pageSize}&sortBy=&sortExp=&userTypeIds=1,2,3`;l["a"].GetUserStorageDetail(e).then((function(e){t.UserData=JSON.parse(e.data).USERSTORAGEDETAILLIST,null!=t.UserData&&t.UserData.forEach((e,a)=>{let s={DataId:e.USER_ID,DataValue:e.ALLOWED_STORAGE};t.jsonObjData.push(s)});let a=[{refCode:"UserSetting",moduleName:"DocStorage"}];var s="configData",r="conditionData",i="[{"+JSON.stringify(s)+":"+JSON.stringify(t.jsonObjData)+", "+JSON.stringify(r)+":"+JSON.stringify(a)+"}]";1==t.validate()?l["a"].ManageDocUserStorageSettingData(JSON.stringify(i)).then(e=>{0==e.data?t.$parent.ShowNextTab(5):t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert"))}):t.ShowAlert(t.$t("You cannot assign space more than available space"),"failure",!0,t.$t("Alert"))}))}else t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert"))},disableDepartmentButton:function(){var t=this;t.isDeptSearchOn=!1},disableDisgnationButton:function(){var t=this;t.isDesgSearchOn=!1},SearchUserStorage:function(){var t=this;t.userFilterData=[],$(".DepartmentchkItems:checked").each((function(){var e=$(this).val();t.CheckIfExistDepartment=t.UserData.filter(t=>t.DEPARTMENT_ID==e),t.JSONSearchData=Array.from(t.CheckIfExistDepartment),t.userFilterData=t.userFilterData.concat(t.JSONSearchData),t.departmentSelectedArray.length>0?t.dropDivShow=!0:t.dropDivShow=!1})),$(".DesignationchkItems:checked").each((function(){0==t.userFilterData.length&&(t.jsonFilteredData=t.UserData);var e=$(this).val();t.CheckIfExistDesignation=t.UserData.filter(t=>t.DESIGNATION_ID==e),t.JSONSearchData=Array.from(t.CheckIfExistDesignation),t.userFilterData=t.userFilterData.concat(t.JSONSearchData),t.designationSelectedArray.length>0?t.divDesignationShow=!0:t.divDesignationShow=!1})),""!=t.txtSearchUserName&&(0==t.userFilterData.length&&(t.jsonFilteredData=t.UserData),t.CheckIfExist=t.UserData.filter(e=>e.USER_NAME.toLowerCase().includes(t.txtSearchUserName)),t.JSONSearchData=Array.from(t.CheckIfExist),t.userFilterData=t.userFilterData.concat(t.JSONSearchData)),""!=t.txtConsumedStorage&&(0==t.userFilterData.length&&(t.jsonFilteredData=t.UserData),t.CheckIfExist=t.jsonFilteredData.filter((function(e){return e.CONSUMED_STROAGE==t.txtConsumedStorage})),t.JSONSearchData=Array.from(t.CheckIfExist),t.userFilterData=t.userFilterData.concat(t.JSONSearchData)),t.UserData=t.userFilterData,t.getTotalStorageData()},ResetButton:function(){var t=this;t.FetchData(),t.GetDDLDesignationData(),t.GetDDLDepartmentData(),t.dropDivShow=!1,t.divDesignationShow=!1,t.showByNameDiv=!1,t.showByConsumedDiv=!1,$(".DepartmentchkItems").prop("checked",!1),$(".DesignationchkItems").prop("checked",!1),t.txtSearchUserName="",t.txtConsumedStorage="",t.toggleExpandCollapseButton(t.label=!0),t.userFilterData=[],t.designationSelectedArray=[],t.departmentSelectedArray=[]},toggleExpandCollapseButton:function(){var t=this;0==t.label?(t.dropDivShow=!0,t.divDesignationShow=!0,t.showByNameDiv=!0,t.showByConsumedDiv=!0,t.label=!0):(t.dropDivShow=!1,t.divDesignationShow=!1,t.showByNameDiv=!1,t.showByConsumedDiv=!1,t.label=!1,t.isDeptSearchOn=!1,t.isDesgSearchOn=!1),t.txtSearchUserName="",t.txtConsumedStorage=""},getTotalStorageData:function(){var t=this;t.totalAllowedStorage=0,t.totalConsumedStorage=0,t.UserData.forEach(e=>{t.totalAllowedStorage+=e.ALLOWED_STORAGE,t.totalConsumedStorage+=e.CONSUMED_STROAGE})},AllocatedSpacePopup:function(){var t=this,e="",a="";$("#tblFileList .chkItems:checked").not("[id^='chkAll']").each((function(){a=$(this).closest("tr").find(".maxAllowedStorage").val(),e=$(this).val();let s={Id:e,value:a};t.jsonobj.push(s)})),t.isAllocatedSpaceOpen=!0},closeAllocatedSpace:function(){var t=this;t.isAllocatedSpaceOpen=!1},GetStoragedata:function(){var t=this;t=this;l["a"].GetStorageReport().then((function(e){t.total=e.data[0].CONTAINER_LIMIT,t.consumed=e.data[0].CONTAINER_SIZE,t.allocated=e.data[0].DOC_STORAGE_MAXLIMIT}));var e="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=4";l["a"].GetUserStorageDetail(e).then((function(e){var a=JSON.parse(e.data).USERSTORAGEDETAILLIST;t.AllowedClientStorage=0,a.forEach(e=>{t.AllowedClientStorage+=e.ALLOWED_STORAGE})}));var a="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=1,2,3";l["a"].GetUserStorageDetail(a).then((function(e){var a=JSON.parse(e.data).USERSTORAGEDETAILLIST;t.AllowedUserStorage=0,a.forEach(e=>{t.AllowedUserStorage+=e.ALLOWED_STORAGE})}))},SaveData:function(t,e,a){var s=this;s.isLoading=!0,s.jsonObjData=[],s.UserId=t,s.UserStorageValue=e;let r={DataId:s.UserId,DataValue:s.UserStorageValue};s.jsonObjData.push(r);let i=[{refCode:"UserSetting",moduleName:"DocStorage"}];var o="configData",n="conditionData",c="[{"+JSON.stringify(o)+":"+JSON.stringify(s.jsonObjData)+", "+JSON.stringify(n)+":"+JSON.stringify(i)+"}]";e<a?s.ShowAlert(s.$t("Allocate Storage cannot be less than consumed Storage"),"failure",!0,s.$t("Alert")):isNaN(e)?s.ShowAlert(s.$t("Allocate Storage must be numeric."),"failure",!0,s.$t("Alert")):l["a"].ManageDocUserStorageSettingData(JSON.stringify(c)).then(e=>{0==e.data?(this.ShowAlert("Storage Configuration Data Updated Successfully"),$("#idMaxStorage"+t).addClass("disabled"),$("#divAction"+t).hide(),$("#idEdit"+t).show(),s.FetchData(),s.GetDDLDesignationData(),s.GetDDLDepartmentData(),s.$parent.GetStorageSetupStatusDetail()):s.ShowAlert(s.$t("UnknownErrorOccur"),"failure",!0,s.$t("Alert"))}),s.isLoading=!1},CancelAction:function(t){var e=this;$("#idMaxStorage"+t).addClass("disabled"),$("#idEdit"+t).show(),$("#divAction"+t).hide(),e.FetchData(),e.GetDDLDesignationData(),e.GetDDLDepartmentData()},editAllowedStorage:function(t){$("#idMaxStorage"+t).removeClass("disabled"),$("#idEdit"+t).hide(),$("#divAction"+t).show()},PagerData:function(t,e,a,s){var r=this;r.pageNo=t,r.pageSize=s,r.FetchData(r.pageNo,e,a,r.pageSize)},pagerMethod:function(t){"Prev"==t.target.innerHTML?this.pageNo=this.pageNo-1:"Next"==t.target.innerHTML?this.pageNo=parseInt(this.pageNo)+1:this.pageNo=t.target.innerHTML,"First"==this.pageNo&&(this.pageNo="1"),"Last"==this.pageNo&&(this.pageNo=this.TotalPages),parseInt(this.pageNo)>0?this.PagerData(this.pageNo,"","",this.pageSize):this.pageNo=1},pageSizecommon:function(t){var e=this;e.pageNo=1,e.pageSize=t.target.value,e.PagerData(e.pageNo,"","",e.pageSize)},onChange:function(){var t=$(".chkItems:checked").not("[id^='chkAll']").length;t>0?$("#btnStorageSpace").removeClass("disabled"):$("#btnStorageSpace").addClass("disabled")},GetDDLDepartmentData:function(){var t=this;var e="moduleName=DocStorage&type=DEPARTMENT";l["a"].GetDDLDatas(e).then(e=>{t.DepartmentData=e.data.DATA})},GetDDLDesignationData:function(){var t=this;var e="moduleName=DocStorage&type=HR_DESIG";l["a"].GetDDLDatas(e).then(e=>{t.designationData=e.data.DATA})},FetchData:function(){var t=this;t.isLoading=!0;var e=`pageNo=${t.pageNo}&pageSize=${t.pageSize}&sortBy=&sortExp=&userTypeIds=1,2,3`;l["a"].GetUserStorageDetail(e).then((function(e){t.UserData=JSON.parse(e.data).USERSTORAGEDETAILLIST,t.totalRecords=t.UserData[0].totalRecords,t.userStorageDetailSummary=JSON.parse(e.data).USERSTORAGEDETAILSUMMARY,t.getTotalStorageData(),t.isLoading=!1,null==t.UserData?t.NoRecordLength=0:t.NoRecordLength=t.UserData.length})),setTimeout((function(){t.ResponsiveDataTable("tblFileList")}),500),$("#btnStorageSpace").addClass("disabled")}}},c=n,d=a("2877"),u=Object(d["a"])(c,s,r,!1,null,null,null);e["a"]=u.exports},4555:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return t.TotalPages>0?e("div",{staticClass:"nu-paging"},[e("nav",{attrs:{"aria-label":"Page navigation example col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"}},[e("ul",{staticClass:"pagination row"},[e("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left choose-page"},[e("span",{staticClass:"mr-2"},[t._v("Show")]),e("span",{staticClass:"select"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.PageSize,expression:"PageSize"}],staticClass:"form-control form-control-sm",attrs:{id:"pageSize",name:"pageSize"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.PageSize=e.target.multiple?a:a[0]},t.SetPageSize]}},t._l(t.PageSizeOption,(function(a,s){return e("option",{key:s,domProps:{value:a}},[t._v(t._s(a))])})),0)]),e("span",{staticClass:"ml-2"},[t._v(t._s(t.$t("PagingText",[(t.CurrentPage-1)*t.PageSize+1,t.PageSize*t.CurrentPage>t.TotalRecords?t.TotalRecords:t.PageSize*t.CurrentPage,t.TotalRecords])))])]),e("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[t.TotalPages>1?e("ul",{staticClass:"paging-count"},[e("li",{staticClass:"page-item"},[1!=t.CurrentPage?e("a",{staticClass:"page-link first",attrs:{title:t.firstText,href:"javascript:;",val:"1"},on:{click:function(e){return t.SetCurrentPage(1)}}},[t._v(t._s(t.firstText))]):t._e(),1==t.CurrentPage?e("a",{staticClass:"page-link first disabled",attrs:{title:t.firstText,val:"1"}},[t._v(t._s(t.firstText))]):t._e()]),e("li",{staticClass:"page-item"},[1!=t.CurrentPage?e("a",{staticClass:"page-link previous",attrs:{title:t.prevText,href:"javascript:;"},on:{click:function(e){return t.SetCurrentPage(t.CurrentPage-1)}}},[t._v(t._s(t.prevText))]):t._e(),1==t.CurrentPage?e("a",{staticClass:"page-link previous disabled",attrs:{title:t.prevText}},[t._v(t._s(t.prevText))]):t._e()]),t._l(t.TotalPages,(function(a,s){return[a>=t.GroupStart&&a<=t.GroupEnd?e("li",{key:s,staticClass:"page-item"},[s+1==t.CurrentPage?e("a",{staticClass:"page-link active",attrs:{href:"javascript:;"}},[t._v(t._s(s+1))]):t._e(),s+1!=t.CurrentPage?e("a",{staticClass:"page-link",attrs:{href:"javascript:;",val:s},on:{click:function(e){return t.SetCurrentPage(s+1)}}},[t._v(t._s(s+1))]):t._e()]):t._e()]})),e("li",{staticClass:"page-item"},[t.CurrentPage<t.TotalPages?e("a",{staticClass:"page-link next",attrs:{title:t.nextText,href:"javascript:;"},on:{click:function(e){return t.SetCurrentPage(t.CurrentPage+1)}}},[t._v(t._s(t.nextText))]):t._e(),t.CurrentPage>=t.TotalPages?e("a",{staticClass:"page-link disabled next",attrs:{title:t.nextText}},[t._v(t._s(t.nextText))]):t._e()]),e("li",{staticClass:"page-item"},[t.CurrentPage!=t.TotalPages?e("a",{staticClass:"page-link next",attrs:{title:t.lastText,href:"javascript:;",val:t.TotalPages},on:{click:function(e){return t.SetCurrentPage(t.TotalPages)}}},[t._v(t._s(t.lastText))]):t._e(),t.CurrentPage==t.TotalPages?e("a",{staticClass:"page-link next disabled",attrs:{title:t.lastText,val:t.TotalPages}},[t._v(t._s(t.lastText))]):t._e()])],2):t._e()])])])]):t._e()},r=[],i=(a("14d9"),{props:{numberofrecords:{type:Number,required:!0},prevText:{type:String,required:!0},nextText:{type:String,required:!0},firstText:{type:String,required:!0},lastText:{type:String,required:!0},callbackfunction:{type:Function},CurrentPageNumber:{type:Number}},data:function(){return{TotalRecords:0,PageNumber:1,PageSize:10,PageSizeOption:null,CurrentPage:1,TotalPages:0,GroupStart:1,GroupEnd:3,LastPage:!1}},watch:{numberofrecords:function(t){this.CurrentPage>this.PageNumber&&(this.CurrentPage=this.PageNumber),this.TotalRecords=t,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3)},CurrentPageNumber:function(t){var e=this;e.CurrentPage=t,1==t&&e.SetCurrentPage(t)}},created:function(){this.GetPageSizeOption()},methods:{GetData:function(){this.$emit("SetCurrentPage",{PageNumber:this.PageNumber,PageSize:this.PageSize}),"undefined"!=typeof this.callbackfunction&&null!=this.callbackfunction&&this.callbackfunction()},SetPageSize:function(t){this.PageSize=t.target.value,this.PageNumber=1,this.CurrentPage=this.PageNumber,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.GetData()},SetCurrentPage:function(t){this.PageNumber=t,this.CurrentPage=t,this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3),this.GetData()},GetPageSizeOption:function(){for(var t=[],e=10,a=e;a<e+95;a+=5)t.push(a);this.PageSizeOption=t}}}),l=i,o=a("2877"),n=Object(o["a"])(l,s,r,!1,null,null,null);e["a"]=n.exports},c857:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-open my-popups",staticStyle:{"z-index":"9999998"}},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block",attrs:{tabindex:"-1",role:"dialog"}},[e("div",{staticClass:"modal-dialog",staticStyle:{width:"35%"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title",attrs:{name:"header"}},[t._v("Allocate Space")]),e("button",{staticClass:"close",on:{click:t.ClosePopup}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("Form",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({valid:a,errors:s}){return[e("section",{staticClass:"main-content",attrs:{id:"divMainContent"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Allocate Space (MB): "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{attrs:{rules:{required:!0},name:"Allocate Space"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.allocatedSpaceValue,expression:"allocatedSpaceValue"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{id:"allocateSpace",type:"text",maxlength:"200"},domProps:{value:t.allocatedSpaceValue},on:{input:function(e){e.target.composing||(t.allocatedSpaceValue=e.target.value)}}}),e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"allocateSpace",id:"allocateSpace"}},[t._v(t._s(a[0]))])]}}],null,!0)})],1),e("div",{staticClass:"col-lg-25"},[e("div",[e("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("MandatoryString")))])])])])])])]}}])}),e("div",{staticClass:"text-right pr-0 pb-0"},[e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",attrs:{title:"Save"},on:{click:function(e){return t.SaveData()}}},[e("em",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),t._v(" Save")])])],1)])])])],1)},r=[],i=(a("14d9"),a("9769")),l={data:function(){return{isLoading:!1,allocatedSpaceValue:0,isAllocatedSpaceOpen:!1,UserStorageValue:null,jsonObjData:[],SumOfAllowedStorage:null,AllocatedStorage:null,AvailableSpace:null}},props:{jsonobj:{type:Array}},created(){var t=this;t.$parent.$refs.Client&&(t.SumOfAllowedStorage=t.$parent.$refs.Client.totalAllowedStorage,t.AllocatedStorage=t.$parent.$refs.Client.AllowedClientStorage,t.AvailableSpace=t.$parent.$refs.Client.AvailableSpace),t.$parent.$refs.User&&(t.SumOfAllowedStorage=t.$parent.$refs.User.totalAllowedStorage,t.AllocatedStorage=t.$parent.$refs.User.AllowedClientStorage,t.AvailableSpace=t.$parent.$refs.User.AvailableSpace)},methods:{SaveData:function(){var t=this;t.isLoading=!0;var e=0;t.UserStorageValue=null,t.jsonObjData=[];let a={};if(isNaN(t.allocatedSpaceValue))t.ShowAlert(t.$t("Allocate Storage must be numeric."),"failure",!0,t.$t("Alert"));else{t.UserStorageValue=t.allocatedSpaceValue;for(var s=t.jsonobj.length,r=0;r<t.jsonobj.length;r++)e+=parseInt(t.jsonobj[r].value);t.SumOfAllowedStorage=t.SumOfAllowedStorage-e,t.SumOfAllowedStorage=t.SumOfAllowedStorage+parseInt(t.UserStorageValue)*s;var l=t.AllocatedStorage+t.AvailableSpace;if(null!=t.jsonobj)t.jsonobj.forEach((e,a)=>{let s={DataId:e.Id,DataValue:t.UserStorageValue};t.jsonObjData.push(s)}),a=[{refCode:"UserSetting",moduleName:"DocStorage"}];else{let e={DataId:t.UserId,DataValue:t.UserStorageValue};t.jsonObjData.push(e)}var o="configData",n="conditionData",c="[{"+JSON.stringify(o)+":"+JSON.stringify(t.jsonObjData)+", "+JSON.stringify(n)+":"+JSON.stringify(a)+"}]";if(l<t.SumOfAllowedStorage)t.$parent.closeAllocatedSpace(),t.ShowAlert(t.$t("You cannot assign Storage more than available Storage"),"failure",!0,t.$t("Alert"));else{JSON.stringify(t.jsonObjData);t.$refs.form.validate().then(e=>{0!=e&&i["a"].ManageDocUserStorageSettingData(JSON.stringify(c)).then(e=>{0==e.data?(this.ShowAlert("Allocated Space Updated Successfully"),t.$parent.closeAllocatedSpace(),t.$emit("FetchDatas"),t.jsonObjData=[]):t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert"))})}),t.isLoading=!1}}},ClosePopup:function(){var t=this;t.isLoading=!0,t.$emit("closeAllocatedSpace"),t.$parent.closeAllocatedSpace(),t.$parent.FetchDatas(),t.$parent.GetDDLDepartmentData(),t.$parent.GetDDLDesignationData(),t.isLoading=!1}}},o=l,n=a("2877"),c=Object(n["a"])(o,s,r,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-b70de27a.js.map